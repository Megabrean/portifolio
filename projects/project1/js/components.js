const reducer=(t,e)=>t+e,Utils={true_array:function(t){return-1===t.indexOf(!1)},compare_array:function(t,e){if(t.length!=e.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}},Vfx={fadeIn:function(t,e=0,i=null){t.alpha=0,t.visible=!0;const s={targets:t,duration:800,alpha:1,delay:e,onComplete:()=>{i&&i()}};this.tweens.add(s)},fadeOut:function(t,e=0,i=null){const s={targets:t,duration:500,alpha:0,delay:e,onComplete:()=>{t.visible=!1,i&&i()}};this.tweens.add(s)},slideLeft:function(t,e=0,i=300,s=null){const n={targets:t,x:{start:-t.width,from:-t.width,to:t.x},duration:i,ease:"Sine.easeOut",delay:e,onStart:()=>{t.visible=!0},onComplete:()=>{s&&s()}};this.tweens.add(n)},slideRight:function(t,e=0,i=300,s=null){const n={targets:t,x:{start:config.width,from:config.width,to:t.x},duration:i,ease:"Sine.easeOut",delay:e,onStart:()=>{t.visible=!0},onComplete:()=>{s&&s()}};this.tweens.add(n)},slideUp:function(t,e=0,i=300,s=null){const n={targets:t,y:{start:-t.height,from:-t.height,to:t.y},duration:i,ease:"Sine.easeOut",delay:e,onStart:()=>{t.visible=!0},onComplete:()=>{s&&s()}};this.tweens.add(n)},slideDown:function(t,e=0,i=300,s=null){const n={targets:t,y:{start:config.height,from:config.height,to:t.y},duration:i,ease:"Sine.easeOut",delay:e,onStart:()=>{t.visible=!0},onComplete:()=>{s&&s()}};this.tweens.add(n)},scaleTo:function(t,e=1,i=0,s=null){e>1?e=1:e<0&&(e=0);const n={targets:t,duration:500,scale:{start:0,to:e},delay:i,onStart:()=>{t.visible=!0},onComplete:()=>{s&&s()}};this.tweens.add(n)},scalexTo:function(t,e=1,i=0,s=null){e>1?e=1:e<0&&(e=0);const n={targets:t,duration:500,scaleX:{start:0,to:e},delay:i,onStart:()=>{t.visible=!0},onComplete:()=>{s&&s()}};this.tweens.add(n)},scaleyTo:function(t,e=1,i=0,s=null){e>1?e=1:e<0&&(e=0);const n={targets:t,duration:500,scaleY:{start:0,to:e},delay:i,onStart:()=>{t.visible=!0},onComplete:()=>{s&&s()}};this.tweens.add(n)},bg_transition:function(t,e,i=0,s=null){t.visible=!0,fade_out={targets:t,duration:300,alpha:0,delay:i,onComplete:()=>{t.setTexture(e)}},fade_in={targets:t,duration:300,alpha:1,delay:300+i,onComplete:()=>{s&&s()}},this.tweens.add(fade_out),this.tweens.add(fade_in)}};class PopUp{constructor(t,e,i,s,n={relativeX:.7,relativeY:.7,t:""}){this.item_ended=!1,this.scene=t,this.pop_up_bt=t.add.image(i.x,i.y,i.t).setOrigin(0).setInteractive({cursor:"pointer"}),this.pop_container=t.add.container(0,0),this.hint_container=t.add.container(0,0),this.pop_up=t.add.image(t.scale.baseSize._width/2,t.scale.baseSize._height/2,e).setInteractive(),this.close_pop_bt=t.add.image(s.x,s.y,s.t).setOrigin(0).setInteractive({cursor:"pointer"}),this.hint=t.add.image(this.pop_up_bt.x+this.pop_up_bt.width*n.relativeX,this.pop_up_bt.y+this.pop_up_bt.height*n.relativeY,n.t).setOrigin(0).setVisible(!1),this.pop_container.add([this.pop_up,this.close_pop_bt]),this.hint_container.add(this.hint),this.hint_container.visible=this.pop_up_bt.visible=this.pop_container.visible=!1,this.close_pop_bt.on("pointerup",()=>{this.pop_container.visible=!1,this.close_pop_bt.setFrame(0),t.scene.wake("Piv"),this.end_item()}).on("pointerdown",function(){this.setFrame(1)}).on("pointerout",function(){this.setFrame(0)}),this.pop_up_bt.on("pointerup",()=>{this.pop_up_bt.setFrame(0),t.scene.sleep("Piv"),this.hint_container.visible=!1,Vfx.fadeIn.call(t,this.pop_container),t.children.bringToTop(this.pop_container)}).on("pointerdown",function(){this.setFrame(1)}).on("pointerout",function(){this.setFrame(0)})}end_item(){this.item_ended||(this.item_ended=!0,this.scene.events.emit("item_end"))}set_popbt_visibility(t){this.pop_up_bt.visible=t,t&&!this.item_ended?(this.hint_container.visible=!0,Vfx.slideRight.call(this.scene,this.hint,300,500)):this.hint.visible=this.hint_container.visible=!1}getItemEnd(){return this.item_ended}}class PopUpVideo{constructor(t,e,i,s,n,a={relativeX:.7,relativeY:.7,t:"void_hint"}){this.item_ended=!1,this.scene=t,this.pop_up_bt=t.add.image(i.x,i.y,i.t).setOrigin(0).setInteractive({cursor:"pointer"}),this.pop_container=t.add.container(0,0),this.hint_container=t.add.container(0,0),this.pop_up=t.add.image(t.scale.baseSize._width/2,t.scale.baseSize._height/2,e).setInteractive(),this.close_pop_bt=t.add.image(s.x,s.y,s.t).setOrigin(0).setInteractive({cursor:"pointer"}),this.hint=t.add.image(this.pop_up_bt.x+this.pop_up_bt.width*a.relativeX,this.pop_up_bt.y+this.pop_up_bt.height*a.relativeY,a.t).setOrigin(0).setVisible(!1),this.pop_container.add([this.pop_up,this.close_pop_bt]),this.hint_container.add(this.hint);const h=document.createElement("video");h.playsinline=!0,h.src=`./assets/video/${n}.mp4`,h.width=1280,h.height=536,h.controlsList="nodownload nofullscreen",h.autoplay=!1,h.controls=!0;const r=t.add.dom(640,372,h).setVisible(!1);h.addEventListener("ended",()=>{this.close_pop_bt.visible=!0}),this.hint_container.visible=this.pop_up_bt.visible=this.close_pop_bt.visible=this.pop_container.visible=!1,this.close_pop_bt.on("pointerup",()=>{this.close_pop_bt.setFrame(0),this.pop_container.visible=!1,h.pause(),r.setVisible(!1),t.scene.wake("Piv"),this.end_item()}).on("pointerdown",function(){this.setFrame(1)}).on("pointerout",function(){this.setFrame(0)}),this.pop_up_bt.on("pointerup",()=>{this.pop_up_bt.setFrame(0),t.scene.sleep("Piv"),this.hint_container.visible=!1,Vfx.fadeIn.call(t,this.pop_container,0,()=>{h.currentTime=0,r.setVisible(!0),h.play()}),t.children.bringToTop(this.pop_container)}).on("pointerdown",function(){this.setFrame(1)}).on("pointerout",function(){this.setFrame(0)})}end_item(){this.item_ended||(this.item_ended=!0,this.scene.events.emit("item_end"))}set_popbt_visibility(t){this.pop_up_bt.visible=t,t&&!this.item_ended?(this.hint_container.visible=!0,Vfx.slideRight.call(this.scene,this.hint,300,500)):this.hint.visible=this.hint_container.visible=!1}getItemEnd(){return this.item_ended}}class PopUpSideNav{constructor(t,e,i,s,n,a,h={relativeX:.7,relativeY:.7,t:""}){this.side_page=0,this.item_ended=!1,this.scene=t,this.bg_keys=e,this.pop_up_bt=t.add.image(i.x,i.y,i.t).setOrigin(0).setInteractive({cursor:"pointer"}),this.pop_container=t.add.container(0,0),this.hint_container=t.add.container(0,0),this.pop_up=t.add.image(t.scale.baseSize._width/2,t.scale.baseSize._height/2,e[0]).setInteractive(),this.close_pop_bt=t.add.image(a.x,a.y,a.t).setOrigin(0).setInteractive({cursor:"pointer"}),this.arrow_left_bt=t.add.image(s.x,s.y,s.t).setOrigin(0).setInteractive({cursor:"pointer"}),this.arrow_right_bt=t.add.image(n.x,n.y,n.t,1).setOrigin(0).setInteractive({cursor:"pointer"}),this.hint=t.add.image(this.pop_up_bt.x+this.pop_up_bt.width*h.relativeX,this.pop_up_bt.y+this.pop_up_bt.height*h.relativeY,h.t).setOrigin(0).setVisible(!1),this.pop_container.add([this.pop_up,this.arrow_left_bt,this.arrow_right_bt,this.close_pop_bt]),this.hint_container.add(this.hint),this.hint_container.visible=this.pop_up_bt.visible=this.pop_container.visible=!1,this.close_pop_bt.visible=!1,this.arrow_left_bt.disableInteractive(),this.arrow_left_bt.on("pointerup",()=>{this.arrow_left_bt.setFrame(1),this.change_bg(!1)}).on("pointerdown",function(){this.setFrame(2)}).on("pointerout",function(){this.setFrame(1)}),this.arrow_right_bt.on("pointerup",()=>{this.arrow_right_bt.setFrame(1),this.change_bg(!0)}).on("pointerdown",function(){this.setFrame(2)}).on("pointerout",function(){this.setFrame(1)}),this.close_pop_bt.on("pointerup",()=>{this.close_pop_bt.setFrame(0),this.pop_container.visible=!1,t.scene.wake("Piv"),this.end_item(),t.children.bringToTop(this.pop_container)}).on("pointerdown",function(){this.setFrame(1)}).on("pointerout",function(){this.setFrame(0)}),this.pop_up_bt.on("pointerup",()=>{this.pop_up_bt.setFrame(0),t.scene.sleep("Piv"),this.hint_container.visible=!1,Vfx.fadeIn.call(t,this.pop_container)}).on("pointerdown",function(){this.setFrame(1)}).on("pointerout",function(){this.setFrame(0)})}end_item(){this.item_ended||(this.item_ended=!0,this.scene.events.emit("item_end"))}change_bg(t){this.disable_bts(),t?this.side_page++:this.side_page--,this.pop_up.setTexture(this.bg_keys[this.side_page]),this.enable_bts()}disable_bts(){this.arrow_right_bt.disableInteractive().off("pointerout"),this.arrow_left_bt.disableInteractive().off("pointerout")}enable_bts(){0===this.side_page?(this.arrow_right_bt.setFrame(1).setInteractive().on("pointerout",function(){this.setFrame(1)}),this.arrow_left_bt.setFrame(0)):this.side_page>0&&this.side_page<this.bg_keys.length-1?(this.arrow_right_bt.visible=this.arrow_left_bt.visible=!0,this.arrow_left_bt.setFrame(1).setInteractive().on("pointerout",function(){this.setFrame(1)}),this.arrow_right_bt.setFrame(1).setInteractive().on("pointerout",function(){this.setFrame(1)})):(this.arrow_right_bt.setFrame(0),this.arrow_left_bt.setFrame(1).setInteractive().on("pointerout",function(){this.setFrame(1)}),this.close_pop_bt.visible=!0)}set_popbt_visibility(t){this.pop_up_bt.visible=t,t&&!this.item_ended?(this.hint_container.visible=!0,Vfx.slideRight.call(this.scene,this.hint,300,500)):this.hint.visible=this.hint_container.visible=!1}get_popbt(){return this.pop_up_bt}get_closepopbt(){return this.close_pop_bt}getItemEnd(){return this.item_ended}}class SideNavItem{constructor(t,e,i,s,n=!1,a={relativeX:.7,relativeY:.7,t:""}){this.side_page=0,this.scene=t,this.item_ended=!1,this.bg_keys=e,this.hide_inactive=n,this.side_container=t.add.container(0,0),this.side_bg=t.add.image(t.scale.baseSize._width/2,t.scale.baseSize._height/2,e[0]),this.arrow_left_bt=t.add.image(i.x,i.y,i.t,1).setOrigin(0).setInteractive({cursor:"pointer"}),this.arrow_right_bt=t.add.image(s.x,s.y,s.t,1).setOrigin(0).setInteractive({cursor:"pointer"}),this.blink_fx=t.add.ellipse(this.arrow_right_bt.x+this.arrow_right_bt.width*a.relativeX,this.arrow_right_bt.y+this.arrow_right_bt.height*a.relativeY,34,34,"0xFFF1D1").setVisible(!1).setAlpha(.2),this.hint=t.add.ellipse(this.arrow_right_bt.x+this.arrow_right_bt.width*a.relativeX,this.arrow_right_bt.y+this.arrow_right_bt.height*a.relativeY,28,28,"0xFFB406").setVisible(!1),this.blink_fx.tween={targets:this.blink_fx,repeat:-1,duration:800,scale:{from:.9,to:1.2},onStart:()=>{this.blink_fx.setVisible(!0)}},Vfx.fadeIn.call(t,this.hint,300,()=>{t.tweens.add(this.blink_fx.tween)}),this.arrow_left_bt.disableInteractive().setVisible(!this.hide_inactive),this.arrow_left_bt.on("pointerup",()=>this.change_bg(!1)).on("pointerdown",function(){this.setFrame(1)}).on("pointerout",function(){this.setFrame(0)}),this.arrow_right_bt.on("pointerup",()=>this.change_bg(!0)).on("pointerdown",function(){this.setFrame(1)}).on("pointerout",function(){this.setFrame(0)}),this.side_container.add([this.side_bg,this.arrow_left_bt,this.arrow_right_bt,this.hint,this.blink_fx])}getItemEnd(){return this.item_ended}getItemContainer(){return this.side_container}change_bg(t){this.disable_bts(),t?this.side_page++:this.side_page--,this.side_bg.setTexture(this.bg_keys[this.side_page]),this.enable_bts()}disable_bts(){this.arrow_right_bt.disableInteractive(),this.arrow_left_bt.disableInteractive(),this.arrow_right_bt.off("pointerout"),this.arrow_left_bt.off("pointerout")}enable_bts(){0===this.side_page?(this.arrow_right_bt.setFrame(1).setInteractive().setVisible(!0),this.arrow_right_bt.on("pointerout",function(){this.setFrame(1)}),this.arrow_left_bt.setFrame(0).setVisible(!this.hide_inactive)):this.side_page>0&&this.side_page<this.bg_keys.length-1?(this.arrow_right_bt.visible=this.arrow_left_bt.visible=!0,this.arrow_left_bt.setFrame(1).setInteractive().setVisible(!0),this.arrow_right_bt.setFrame(1).setInteractive().setVisible(!0),this.arrow_right_bt.on("pointerout",function(){this.setFrame(1)}),this.arrow_left_bt.on("pointerout",function(){this.setFrame(1)})):(this.arrow_right_bt.setFrame(0).setVisible(!this.hide_inactive),this.arrow_left_bt.setFrame(1).setInteractive().setVisible(!0),this.arrow_left_bt.on("pointerout",function(){this.setFrame(1)}),this.end_item()),this.hint.visible=this.blink_fx.visible=0==this.side_page&&!this.item_ended}end_item(){this.item_ended||(this.item_ended=!0,this.scene.events.emit("item_end"))}}class TabItems{constructor(t,e,i,s={relativeX:.7,relativeY:.7,t:""}){this.tab_page=0,this.scene=t,this.item_ended=!1,this.bg_keys=e,this.tab_container=t.add.container(0,0),this.tab_bg=t.add.image(t.scale.baseSize._width/2,t.scale.baseSize._height/2,e[0]),this.hint_config=s,this.btns_array=[],i.forEach((e,i)=>{const s=0==i?2:0,n=t.add.image(e.x,e.y,e.t,s).setOrigin(0).setInteractive({cursor:"pointer"});1!=i&&n.disableInteractive(),n.on("pointerup",()=>{this.change_bg(i)}).on("pointerdown",function(){this.setFrame(1)}),this.btns_array.push(n)}),this.hint=t.add.image(this.btns_array[1].x+this.btns_array[1].width*s.relativeX,this.btns_array[1].y+this.btns_array[1].height*s.relativeX,s.t).setOrigin(0).setVisible(!1),Vfx.fadeIn.call(t,this.hint,500),this.tab_container.add([this.tab_bg]),this.tab_container.add(this.btns_array)}getItemEnd(){return this.item_ended}getItemContainer(){return this.tab_container}change_bg(t){this.btns_array.forEach(t=>{t.setFrame(0),t.disableInteractive()}),this.hint.visible=!1,this.tab_bg.setTexture(this.bg_keys[t]),this.btns_array[t].setFrame(2),this.tab_page=t,this.enable_bts()}enable_bts(){this.tab_page===this.btns_array.length-1&&this.end_item(),this.item_ended?this.btns_array.forEach((t,e)=>{e!=this.tab_page&&t.setInteractive()}):(this.btns_array.forEach((t,e)=>{e!=this.tab_page&&e<=this.tab_page+1&&t.setInteractive()}),this.hint.setPosition(this.btns_array[this.tab_page+1].x+this.btns_array[this.tab_page+1].width*this.hint_config.relativeX,this.btns_array[this.tab_page+1].y+this.btns_array[this.tab_page+1].height*this.hint_config.relativeY),Vfx.fadeIn.call(this.scene,this.hint))}end_item(){this.item_ended||(this.item_ended=!0,this.scene.events.emit("item_end"))}}class SideMovableBg{constructor(t,e,i,s,n=1280,a={relativeX:.7,relativeY:.7,t:""}){this.mov_page=0,this.scene=t,this.distance=n,this.item_ended=!1,this.mov_container=t.add.container(0,0),this.movable_fg=t.add.image(0,0,e).setOrigin(0),this.total_pages=Math.ceil((this.movable_fg.width-t.scale.baseSize._width)/n),this.back_bt=t.add.image(i.x,i.y,i.t,1).setVisible(!1).setOrigin(0).setInteractive({cursor:"pointer"}),this.next_bt=t.add.image(s.x,s.y,s.t,1).setOrigin(0).setInteractive({cursor:"pointer"}),this.blink_fx=t.add.ellipse(this.next_bt.x+this.next_bt.width*a.relativeX,this.next_bt.y+this.next_bt.height*a.relativeY,34,34,"0xFFF1D1").setVisible(!1).setAlpha(.2),this.hint=t.add.ellipse(this.next_bt.x+this.next_bt.width*a.relativeX,this.next_bt.y+this.next_bt.height*a.relativeY,28,28,"0xFFB406").setVisible(!1),this.blink_fx.tween={targets:this.blink_fx,repeat:-1,duration:800,scale:{from:.9,to:1.2},onStart:()=>{this.blink_fx.setVisible(!0)}},this.mov_container.add([this.movable_fg,this.back_bt,this.next_bt,this.hint,this.blink_fx]),Vfx.fadeIn.call(t,this.hint,300,()=>{t.tweens.add(this.blink_fx.tween)}),this.next_bt.on("pointerup",()=>{this.next_bt.setFrame(1),this.move_fg(!0)}).on("pointerdown",function(){this.setFrame(0)}).on("pointerout",function(){this.setFrame(1)}),this.back_bt.on("pointerup",()=>{this.back_bt.setFrame(1),this.move_fg(!1)}).on("pointerdown",function(){this.setFrame(0)}).on("pointerout",function(){this.setFrame(1)})}getItemEnd(){return this.item_ended}getItemContainer(){return this.mov_container}disable_nav(){this.back_bt.disableInteractive().setVisible(!1),this.next_bt.disableInteractive().setVisible(!1)}enable_nav(){0==this.mov_page?this.next_bt.setInteractive().setVisible(!0):this.mov_page>0&&this.mov_page<this.total_pages?(this.back_bt.setInteractive().setVisible(!0),this.next_bt.setInteractive().setVisible(!0)):(this.back_bt.setInteractive().setVisible(!0),this.end_item()),this.item_ended||Vfx.fadeIn.call(this.scene,this.hint,0,()=>{this.blink_fx.setVisible(!0)})}move_fg(t){let e;this.disable_nav(),t?(e="-=",this.mov_page+=1):(e="+=",this.mov_page-=1);const i={targets:this.movable_fg,duration:1200,x:e+this.distance,ease:"Sine.easeOut",onComplete:()=>{this.enable_nav()}};this.hint.setVisible(!1),this.blink_fx.setVisible(!1),this.scene.tweens.add(i)}end_item(){this.item_ended||(this.item_ended=!0,this.scene.events.emit("item_end"))}}class SideSlideTabs{constructor(t,e,i,s={x:1026,y:0,t:"tab0",hiddenX:1280,visibleX:518},n={relativeX:.7,relativeY:.7,t:"void_hint"}){this.scene=t,this.item_ended=!1,this.side_container=t.add.container(0,0).setVisible(!1),this.tab_page=0,this.tab_cnf_obj=s,this.tabs_tex_array=e,this.hint_config=n,this.btns_array=[],this.tab=t.add.image(s.x,s.y,s.t).setOrigin(0),i.forEach((e,i)=>{this["bt"+i]=t.add.image(e.x,e.y,e.t).setOrigin(0).setInteractive({cursor:"pointer"}),this.btns_array.push(this["bt"+i])}),this.tab_hint=t.add.image(this.bt0.x+this.bt0.width*n.relativeX,this.bt0.y+this.bt0.height*n.relativeY,n.t).setOrigin(0),this.side_container.add(this.tab),this.side_container.add(this.btns_array),this.side_container.add(this.tab_hint),this.btns_array.forEach((t,e)=>{0!=e&&t.disableInteractive(),t.on("pointerup",()=>{this.change_tab(e)}).on("pointerout",function(){this.setFrame(0)}).on("pointerdown",function(){this.setFrame(1)})})}enable_bts(){this.tab_page===this.btns_array.length-1&&this.end_item(),this.item_ended?this.btns_array.forEach((t,e)=>{e!=this.tab_page&&(t.on("pointerout",function(){this.setFrame(0)}),t.setInteractive())}):(this.btns_array[this.tab_page+1].on("pointerout",function(){this.setFrame(0)}),this.btns_array[this.tab_page+1].setInteractive(),this.tab_hint.setPosition(this.btns_array[this.tab_page+1].x+this.btns_array[this.tab_page+1].width*this.hint_config.relativeX,this.btns_array[this.tab_page+1].y+this.btns_array[this.tab_page+1].height*this.hint_config.relativeY),Vfx.fadeIn.call(this.scene,this.tab_hint))}disable_bts(){this.btns_array.forEach(t=>{t.disableInteractive(),t.setFrame(0),t.off("pointerout")})}change_tab(t){this.disable_bts(),Vfx.fadeOut.call(this.scene,this.tab_hint);const e={targets:this.tab,x:this.tab_cnf_obj.hiddenX,duration:300},i={targets:this.tab,x:this.tab_cnf_obj.visibleX,ease:"Sine.easeOut",duration:500,delay:300,onStart:()=>{this.tab.setTexture(this.tabs_tex_array[t])},onComplete:()=>{this.tab_page=t,this.btns_array[t].setFrame(2),this.enable_bts()}};this.scene.tweens.add(e),this.scene.tweens.add(i)}set_visibility(t){this.side_container.setVisible(t),t&&!this.item_ended?Vfx.slideRight.call(this.scene,this.tab_hint,300,500):this.tab_hint.visible=t}getItemEnd(){return this.item_ended}end_item(){this.item_ended||(this.item_ended=!0,this.scene.events.emit("item_end"))}}